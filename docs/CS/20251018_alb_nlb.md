## Amazon Web Services의 로드 밸런싱: ALB vs NLB 심층 분석

로드 밸런싱은 현대 클라우드 인프라에서 애플리케이션의 가용성과 확장성을 보장하는 핵심 기술입니다. 특히 Amazon Web Services(AWS)에서는 애플리케이션의 특정 요구사항에 맞춰 최적화된 두 가지 주요 로드 밸런서, 즉 Application Load Balancer (ALB)와 Network Load Balancer (NLB)를 제공합니다. 이 글에서는 이 두 로드 밸런서의 핵심 개념과 기술적 차이점을 깊이 있게 분석하여, 독자분들이 상황에 맞는 로드 밸런서를 정확하게 선택할 수 있도록 돕겠습니다.

-----

## ALB와 NLB의 기술적 이해 및 차이점

ALB와 NLB는 OSI 7계층 모델 중 어느 계층에서 동작하는지에 따라 근본적인 차이가 발생합니다. 이는 로드 밸런싱 방식, 성능, 그리고 지원하는 기능에 직접적인 영향을 미칩니다.

### 1\. Application Load Balancer (ALB)

ALB는 OSI 7계층 중 애플리케이션 계층(L7)에서 동작하는 로드 밸런서입니다.

  * ALB는 L7단의 로드 밸런싱을 지원합니다.
  * ALB는 주로 HTTP/HTTPS 프로토콜의 헤더, URL 경로, 쿼리 파라미터 등 패킷의 상세 내용을 분석하여 트래픽을 적절한 대상으로 라우팅합니다. 이를 **콘텐츠 기반 라우팅**이라고 합니다.
  * ALB는 IP 주소, 포트 번호, 그리고 패킷의 내용을 보고 스위칭합니다. 이 덕분에 복잡한 라우팅 규칙 설정이 가능하며, 마이크로서비스 아키텍처 환경에서 특히 유용합니다.
  * ALB는 IP 주소가 동적으로 변동될 수 있기 때문에, 클라이언트에서 접근할 때는 할당된 **ELB의 DNS Name**을 이용해야 합니다.
  * ALB는 L7단을 지원하기 때문에 로드 밸런서 레벨에서 SSL/TLS 암호화 및 복호화(Termination) 적용이 가능합니다. 이 기능을 활용하면 백엔드 서버의 부하를 줄일 수 있습니다.
  * 

<br>

### 2\. Network Load Balancer (NLB)

NLB는 OSI 7계층 중 전송 계층(L4)에서 동작하는 로드 밸런서입니다.

  * NLB는 L4단의 로드 밸런싱을 지원합니다.
  * NLB는 TCP/IP 프로토콜의 헤더, 즉 IP 주소와 포트 번호만을 보고 적절한 대상으로 트래픽을 전송합니다. L7 계층의 세부 내용을 분석하지 않으므로, 매우 빠르고 낮은 지연 시간을 자랑합니다.
  * NLB는 IP 주소와 포트 번호를 보고 스위칭합니다. L7 계층의 복잡한 판단 없이 고속의 처리량을 요구하는 환경에 최적화되어 있습니다.
  * NLB는 할당된 **Elastic IP**를 Static IP로 사용할 수 있어, DNS Name과 고정된 IP 주소 모두를 사용하여 접근이 가능합니다. 고정 IP가 필수적인 환경에서 장점입니다.
  * NLB는 인프라 단에서 L4만을 지원하기 때문에 SSL/TLS 적용이 불가능합니다. 따라서 SSL/TLS 암호화는 트래픽을 수신하는 애플리케이션 서버에서 따로 적용해 주어야 합니다.
  * 

<br>

### 3\. ALB와 NLB 주요 차이점 비교표

두 로드 밸런서의 핵심 차이점을 한눈에 비교할 수 있도록 표로 정리했습니다.

| 항목 | ALB (Application Load Balancer) | NLB (Network Load Balancer) |
| :--- | :--- | :--- |
| 동작 계층 | L7 (애플리케이션 계층) | L4 (전송 계층) |
| 프로토콜 | HTTP, HTTPS, gRPC, WebSocket | TCP, UDP, TLS |
| 라우팅 기준 | HTTP 헤더, URL 경로, 쿼리 스트링, IP + 포트 번호 | IP 주소 및 포트 번호 |
| 성능 및 지연 시간 | 콘텐츠 분석으로 인해 NLB보다 높음 | 매우 빠르고 낮은 지연 시간, 높은 처리량 |
| SSL/TLS 지원 | 로드 밸런서 자체에서 종료(Termination) 지원 | 애플리케이션 서버에서 처리 필요 |
| 고정 IP 사용 | 불가능 (DNS Name 사용) | 가능 (Elastic IP 사용) |
| 주 활용 분야 | 마이크로서비스, 컨테이너, HTTP 기반 트래픽 분산 | 매우 높은 성능 요구, 고정 IP 요구, L4 트래픽 처리 |

-----

## 결론 및 활용 방안 제안

ALB와 NLB는 각각의 장점과 기술적 특성을 바탕으로 AWS 환경에서 중요한 역할을 수행합니다.

  * **ALB**는 **콘텐츠 기반의 복잡한 라우팅**이 필요하거나, **SSL/TLS 부하를 로드 밸런서에서 분리**하고 싶은 경우에 최적의 선택입니다. 다양한 백엔드 서비스로 트래픽을 유연하게 분산해야 하는 마이크로서비스 아키텍처에 적합합니다.
  * **NLB**는 **최고의 성능과 낮은 지연 시간**, 그리고 **고정 IP 주소**가 필요한 환경에 적합합니다. TCP/UDP와 같은 L4 계층 트래픽을 고속으로 처리해야 할 때 활용됩니다.

효율적인 클라우드 인프라 구성을 위해서는 애플리케이션의 트래픽 유형, 성능 요구사항, 그리고 보안 요구사항을 명확히 분석하여 ALB와 NLB 중 적합한 솔루션을 선택해야 합니다. 두 로드 밸런서의 특징을 정확히 이해하는 것이 안정적이고 확장 가능한 시스템을 구축하는 첫걸음입니다.